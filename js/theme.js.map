{"version":3,"sources":["theme.js"],"names":["AlphaMobileMenu","$","setupOptions","options","settings","mainMenu","document","getElementById","extraMenus","menuButton","submenuButton","class","aria-expanded","aria-pressed","role","activeClass","mobileMenuClass","menuOpenClass","resetClass","extend","setupVars","$mobileMenu","length","$menuButton","menuClass","attr","isElementInViewport","el","rect","getBoundingClientRect","$window","window","top","left","bottom","height","right","width","focusMobileMenu","nav","$items","find","$firstItem","first","$lastItem","last","focus","on","e","keyCode","target","shiftKey","that","isMenuOpen","addSubmenuButtons","$button","prev","append","maybeMergeMenus","$extras","areMenusMerged","$main","children","each","$that","this","addClass","appendTo","maybeSplitMenus","$appendedItems","removeClass","toggleSubMenu","event","preventDefault","toggleClass","parent","next","debounce","func","wait","timeout","args","arguments","clearTimeout","setTimeout","apply","initMenu","isMenuMobile","destroyMobileMenu","createMobileMenu","$root","documentElement","element","offsetParent","openMenu","closeMenu","removeAttr","toggleMenu","init","onresize","AlphaParentTheme","$body","body","detectTouch","$siteInner","gamajoAccessibleMenu","fitVids","undefined","Plugin","opts","fn","pluginName","hoverTimeout","prototype","menuItemSelector","menuItemEnter","menuItemLeave","menuItemToggleClass","index","data","hoverClass","$self","id","hoverDelay","parents","jQuery","customSelector","head","getElementsByTagName","css","div","createElement","innerHTML","appendChild","childNodes","selectors","push","$allVideos","join","not","$this","tagName","toLowerCase","isNaN","parseInt","aspectRatio","videoID","Math","floor","random","wrap","Zepto","root","factory","define","amd","exports","module","skipLinkFocus","test","navigator","userAgent","addEventListener","i","skipLinks","querySelectorAll","skipToElement","location","hash","substring","skipLinkClickHandler","tabIndex","ready"],"mappings":"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","file":"theme.min.js","sourcesContent":["/*! Gamajo Accessible Menu - v1.0.0 - 2014-09-08\n* https://github.com/GaryJones/accessible-menu\n* Copyright (c) 2014 Gary Jones; Licensed MIT */\n;(function( $, window, document, undefined ) {\n  'use strict';\n\n  var pluginName = 'gamajoAccessibleMenu',\n    hoverTimeout = [];\n\n  // The actual plugin constructor\n  function Plugin( element, options ) {\n    this.element = element;\n    // jQuery has an extend method which merges the contents of two or\n    // more objects, storing the result in the first object. The first object\n    // is generally empty as we don't want to alter the default options for\n    // future instances of the plugin\n    this.opts = $.extend( {}, $.fn[pluginName].options, options );\n    this.init();\n  }\n\n  // Avoid Plugin.prototype conflicts\n  $.extend( Plugin.prototype, {\n    init: function() {\n      $( this.element )\n        .on( 'mouseenter.' + pluginName, this.opts.menuItemSelector, this.opts, this.menuItemEnter )\n        .on( 'mouseleave.' + pluginName, this.opts.menuItemSelector, this.opts, this.menuItemLeave )\n        .find( 'a' )\n        .on( 'focus.'  + pluginName + ', blur.' + pluginName, this.opts, this.menuItemToggleClass );\n    },\n\n    /**\n     * Add class to menu item on hover so it can be delayed on mouseout.\n     *\n     * @since 1.0.0\n     */\n    menuItemEnter: function( event ) {\n      // Clear all existing hover delays\n      $.each( hoverTimeout, function( index ) {\n        $( '#' + index ).removeClass( event.data.hoverClass );\n        clearTimeout( hoverTimeout[index] );\n      });\n      // Reset list of hover delays\n      hoverTimeout = [];\n\n      $( this ).addClass( event.data.hoverClass );\n    },\n\n    /**\n     * After a short delay, remove a class when mouse leaves menu item.\n     *\n     * @since 1.0.0\n     */\n    menuItemLeave: function( event ) {\n      var $self = $( this );\n      // Delay removal of class\n      hoverTimeout[this.id] = setTimeout( function() {\n        $self.removeClass( event.data.hoverClass );\n      }, event.data.hoverDelay );\n    },\n\n    /**\n     * Toggle menu item class when a link fires a focus or blur event.\n     *\n     * @since 1.0.0\n     */\n    menuItemToggleClass: function( event ) {\n      $( this ).parents( event.data.menuItemSelector ).toggleClass( event.data.hoverClass );\n    }\n  });\n\n  // A really lightweight plugin wrapper around the constructor,\n  // preventing against multiple instantiations\n  $.fn[ pluginName ] = function( options ) {\n    this.each( function() {\n      if ( ! $.data( this, 'plugin_' + pluginName ) ) {\n        $.data( this, 'plugin_' + pluginName, new Plugin( this, options ) );\n      }\n    });\n\n    // chain jQuery functions\n    return this;\n  };\n\n  $.fn[ pluginName ].options = {\n    // The CSS class to add to indicate item is hovered or focused\n      hoverClass: 'menu-item-hover',\n\n      // The delay to keep submenus showing after mouse leaves\n      hoverDelay: 250,\n\n      // Selector for general menu items. If you remove the default menu item\n      // classes, then you may want to call this plugin with this value\n      // set to something like 'nav li' or '.menu li'.\n      menuItemSelector: '.menu-item'\n  };\n})( jQuery, window, document );\n\n/*global jQuery */\n/*jshint browser:true */\n/*!\n* FitVids 1.1\n*\n* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com\n* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/\n* Released under the WTFPL license - http://sam.zoy.org/wtfpl/\n*\n*/\n\n(function( $ ){\n\n  \"use strict\";\n\n  $.fn.fitVids = function( options ) {\n    var settings = {\n      customSelector: null\n    };\n\n    if(!document.getElementById('fit-vids-style')) {\n      // appendStyles: https://github.com/toddmotto/fluidvids/blob/master/dist/fluidvids.js\n      var head = document.head || document.getElementsByTagName('head')[0];\n      var css = '.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}';\n      var div = document.createElement('div');\n      div.innerHTML = '<p>x</p><style id=\"fit-vids-style\">' + css + '</style>';\n      head.appendChild(div.childNodes[1]);\n    }\n\n    if ( options ) {\n      $.extend( settings, options );\n    }\n\n    return this.each(function(){\n      var selectors = [\n        \"iframe[src*='player.vimeo.com']\",\n        \"iframe[src*='youtube.com']\",\n        \"iframe[src*='youtube-nocookie.com']\",\n        \"iframe[src*='kickstarter.com'][src*='video.html']\",\n        \"object\",\n        \"embed\"\n      ];\n\n      if (settings.customSelector) {\n        selectors.push(settings.customSelector);\n      }\n\n      var $allVideos = $(this).find(selectors.join(','));\n      $allVideos = $allVideos.not(\"object object\"); // SwfObj conflict patch\n\n      $allVideos.each(function(){\n        var $this = $(this);\n        if (this.tagName.toLowerCase() === 'embed' && $this.parent('object').length || $this.parent('.fluid-width-video-wrapper').length) { return; }\n        var height = ( this.tagName.toLowerCase() === 'object' || ($this.attr('height') && !isNaN(parseInt($this.attr('height'), 10))) ) ? parseInt($this.attr('height'), 10) : $this.height(),\n            width = !isNaN(parseInt($this.attr('width'), 10)) ? parseInt($this.attr('width'), 10) : $this.width(),\n            aspectRatio = height / width;\n        if(!$this.attr('id')){\n          var videoID = 'fitvid' + Math.floor(Math.random()*999999);\n          $this.attr('id', videoID);\n        }\n        $this.wrap('<div class=\"fluid-width-video-wrapper\"></div>').parent('.fluid-width-video-wrapper').css('padding-top', (aspectRatio * 100)+\"%\");\n        $this.removeAttr('height').removeAttr('width');\n      });\n    });\n  };\n// Works with either jQuery or Zepto\n})( window.jQuery || window.Zepto );\n\n/**\n * Skip Link Focus v0.1.0\n * https://github.com/cedaro/skip-link-focus\n *\n * @copyright Modifications Copyright (c) 2015 Cedaro, LLC\n * @license BSD-3-Clause\n */\n\n/**\n * Make \"skip to content\" links work correctly in IE9, Chrome, and Opera to\n * improve accessibility.\n *\n * @link http://www.nczonline.net/blog/2013/01/15/fixing-skip-to-content-links/\n */\n(function( root, factory ) {\n\t'use strict';\n\n\tif ( 'function' === typeof define && define.amd ) {\n\t\tdefine( [], factory );\n\t} else if ( 'object' === typeof exports ) {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.skipLinkFocus = factory();\n\t}\n}( this, function() {\n\t'use strict';\n\n\tfunction init() {\n\t\tif ( window && /webkit|opera|msie/i.test( window.navigator.userAgent ) && window.addEventListener ) {\n\t\t\tvar i,\n\t\t\t\tskipLinks = window.document.querySelectorAll( '.skip-link' );\n\n\t\t\twindow.addEventListener( 'hashchange', function() {\n\t\t\t\tskipToElement( location.hash.substring( 1 ) );\n\t\t\t}, false );\n\n\t\t\t// Fix for when the address bar already contains a hash.\n\t\t\tfor ( i = 0; i < skipLinks.length; ++i ) {\n\t\t\t\tskipLinks[ i ].addEventListener( 'click', skipLinkClickHandler );\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction skipLinkClickHandler( e ) {\n\t\tskipToElement( e.target.hash.substring( 1 ) );\n\t}\n\n\tfunction skipToElement( id ) {\n\t\tvar element;\n\n\t\tif ( ! ( /^[A-z0-9_-]+$/.test( id ) ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\telement = window.document.getElementById( id );\n\n\t\tif ( element ) {\n\t\t\tif ( ! /^(?:a|select|input|button|textarea)$/i.test( element.tagName ) ) {\n\t\t\t\telement.tabIndex = -1;\n\t\t\t}\n\n\t\t\telement.focus();\n\t\t}\n\t}\n\n\treturn {\n\t\tinit: init,\n\t\tskipToElement: skipToElement\n\t};\n}));\n\n/**\n * Alpha Mobile Menu\n *\n * Merge existing menus into an a11y-compliant, off-canvas mobile menu.\n *\n * @version   0.2.0\n * @copyright Copyright (c) 2017, WP Site Care, LLC\n * @license   MIT\n */\nfunction AlphaMobileMenu( $ ) {\n\t'use strict';\n\n\tvar that = this;\n\tvar $root = $( document.documentElement );\n\tvar settings, $mobileMenu, $menuButton, menuClass;\n\n\tfunction setupOptions( options ) {\n\t\tsettings = {\n\t\t\tmainMenu: $( document.getElementById( 'menu-primary' ) ),\n\t\t\textraMenus: $( document.getElementById( 'menu-secondary' ) ),\n\t\t\tmenuButton: $( document.getElementById( 'menu-toggle-primary' ) ),\n\t\t\tsubmenuButton: $( '<button />', {\n\t\t\t\t'class': 'sub-menu-toggle',\n\t\t\t\t'aria-expanded': false,\n\t\t\t\t'aria-pressed': false,\n\t\t\t\trole: 'button'\n\t\t\t}),\n\t\t\tactiveClass: 'activated',\n\t\t\tmobileMenuClass: 'menu-mobile',\n\t\t\tmenuOpenClass:  'menu-open',\n\t\t\tresetClass: true\n\t\t};\n\n\t\tif ( options ) {\n\t\t\t$.extend( settings, options );\n\t\t}\n\t}\n\n\tfunction setupVars() {\n\t\t$mobileMenu = settings.mainMenu;\n\n\t\t// Use the secondary menu as the mobile menu if we don't have a primary.\n\t\tif ( 0 === $mobileMenu.length && 0 !== settings.extraMenus.length ) {\n\t\t\t$mobileMenu = settings.extraMenus;\n\t\t}\n\n\t\t$menuButton = settings.menuButton;\n\n\t\tmenuClass = $mobileMenu.attr( 'class' );\n\t}\n\n\tfunction isElementInViewport( el ) {\n\t\tvar rect = el[0].getBoundingClientRect();\n\t\tvar $window = $( window );\n\n\t\treturn (\n\t\t\trect.top >= 0 &&\n\t\t\trect.left >= 0 &&\n\t\t\trect.bottom <= $window.height() &&\n\t\t\trect.right <= $window.width()\n\t\t);\n\t}\n\n\t/**\n\t * Check whether or not the menu is in a mobile state.\n\t *\n\t * @return {bool} true if the menu has been made mobile.\n\t */\n\tthis.isMenuMobile = function() {\n\t\tvar element = $menuButton[0];\n\n\t\tif ( 'undefined' === typeof element ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn ( null === element.offsetParent );\n\t};\n\n\t/**\n\t * Check whether or not the mobile menu is currently open and visible.\n\t *\n\t * @since  1.0.0\n\t * @return {Boolean} Returns true if the menu is open.\n\t */\n\tthis.isMenuOpen = function() {\n\t\tif ( isElementInViewport( $mobileMenu ) ) {\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\t/**\n\t * Check whether or not our existing menus have been merged into a\n\t * single menu for mobile display.\n\t *\n\t * @since  1.0.0\n\t * @return {Boolean} Returns true if the menus have been merged.\n\t */\n\tthis.areMenusMerged = function() {\n\t\tif ( 0 === $mobileMenu.find( '.appended' ).length ) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t};\n\n\t/**\n\t * Force the focus state of either the mobile menu or the menu button\n\t * when a user is tabbing through the mobile menu.\n\t *\n\t * When a user opens the mobile menu, it is given the focus so keyboard\n\t * navigation will work correctly while the user tabs through menu items.\n\t *\n\t * When a user tabs out of either the beginning or end of the menu,\n\t * focus is restored to the mobile menu button so the menu can be\n\t * closed by pressing enter.\n\t *\n\t * @since  1.0.0\n\t * @todo   Maybe split this into multiple functions\n\t * @return {booleen} false when focus has been changed.\n\t */\n\tfunction focusMobileMenu() {\n\t\tvar nav        = $mobileMenu[0];\n\t\tvar $items     = $mobileMenu.find( 'a' );\n\t\tvar $firstItem = $items.first();\n\t\tvar $lastItem  = $items.last();\n\n\t\t$mobileMenu.focus();\n\n\t\t$mobileMenu.on( 'keydown', function( e ) {\n\t\t\t// Return early if we're not using the tab key.\n\t\t\tif ( 9 !== e.keyCode ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Tabbing forwards and tabbing out of the last link.\n\t\t\tif ( $lastItem[0] === e.target && ! e.shiftKey ) {\n\t\t\t\t$menuButton.focus();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t// Tabbing backwards and tabbing out of the first link or the menu.\n\t\t\tif ( ( $firstItem[0] === e.target || nav === e.target ) && e.shiftKey ) {\n\t\t\t\t$menuButton.focus();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\t$menuButton.on( 'keydown', function( e ) {\n\t\t\t// Return early if we're not using the tab key.\n\t\t\tif ( 9 !== e.keyCode ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( that.isMenuOpen() && $menuButton[0] === e.target && ! e.shiftKey ) {\n\t\t\t\t$firstItem.focus();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * Fire all methods required to open the mobile menu.\n\t *\n\t * @since  1.0.0\n\t * @return void\n\t */\n\tthis.openMenu = function() {\n\t\tvar $button = $menuButton;\n\n\t\t$mobileMenu.addClass( 'visible' );\n\t\t$mobileMenu.attr( 'tabindex', '0' );\n\n\t\t$button.addClass( settings.activeClass );\n\t\t$button.attr( 'aria-pressed', 'true' );\n\t\t$button.attr( 'aria-expanded', 'true' );\n\n\t\t$root.addClass( settings.menuOpenClass );\n\n\t\tfocusMobileMenu();\n\t};\n\n\t/**\n\t * Fires all methods required to close the mobile menu.\n\t *\n\t * @since  1.0.0\n\t * @return void\n\t */\n\tthis.closeMenu = function() {\n\t\tvar $button = $menuButton;\n\n\t\t$mobileMenu.removeClass( 'visible' );\n\t\t$mobileMenu.removeAttr( 'tabindex' );\n\n\t\t$button.removeClass( settings.activeClass );\n\t\t$button.attr( 'aria-pressed', 'false' );\n\t\t$button.attr( 'aria-expanded', 'false' );\n\n\t\t$root.removeClass( settings.menuOpenClass );\n\t};\n\n\tfunction addSubmenuButtons() {\n\t\tvar $button = settings.submenuButton;\n\n\t\tif ( 0 === $mobileMenu.find( $button ).length ) {\n\t\t\t$mobileMenu.find( 'li ul' ).prev( 'a' ).append( $button );\n\t\t}\n\t}\n\n\t/**\n\t * Prepare our mobile menu by merging our existing menus together if we\n\t * have more than one.\n\t *\n\t * @since  1.0.0\n\t * @return void\n\t */\n\tfunction maybeMergeMenus() {\n\t\tvar $extras = settings.extraMenus;\n\n\t\tif ( 0 !== $extras.length && ! that.areMenusMerged() ) {\n\t\t\tvar $main = $mobileMenu.find( 'ul:first' );\n\n\t\t\t$extras.find( 'ul:first' ).children( 'li' ).each( function() {\n\t\t\t\tvar $that = $( this );\n\t\t\t\t$that.addClass( 'appended' );\n\t\t\t\t$that.appendTo( $main );\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * If we have two menus which have been merged, split them back into two\n\t * separate menus using the same format as before they were merged.\n\t *\n\t * @since  1.0.0\n\t * @return void\n\t */\n\tfunction maybeSplitMenus() {\n\t\tvar $appendedItems = $mobileMenu.find( '.appended' );\n\n\t\tif ( 0 === $appendedItems.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\t$appendedItems.each( function() {\n\t\t\tvar $that = $( this );\n\t\t\t$that.removeClass( 'appended' );\n\t\t\t$that.appendTo( settings.extraMenus.find( 'ul:first' ) );\n\t\t});\n\t}\n\n\tthis.createMobileMenu = function() {\n\t\tif ( settings.resetClass ) {\n\t\t\t$mobileMenu.removeClass( menuClass );\n\t\t}\n\n\t\t$mobileMenu.addClass( settings.mobileMenuClass );\n\n\t\tmaybeMergeMenus();\n\t\taddSubmenuButtons();\n\t};\n\n\tthis.destroyMobileMenu = function() {\n\t\tthat.closeMenu();\n\n\t\tif ( settings.resetClass ) {\n\t\t\t$mobileMenu.addClass( menuClass );\n\t\t}\n\n\t\t$mobileMenu.removeClass( settings.mobileMenuClass );\n\n\t\tmaybeSplitMenus();\n\t};\n\n\t/**\n\t * Fire all methods required to either open or close the mobile menu.\n\t *\n\t * @since  1.0.0\n\t * @return void\n\t */\n\tthis.toggleMenu = function() {\n\t\tif ( that.isMenuOpen() ) {\n\t\t\tthat.closeMenu();\n\t\t} else {\n\t\t\tthat.openMenu();\n\t\t}\n\t};\n\n\t/**\n\t * Fire all methods required to either open or close a sub menu.\n\t *\n\t * @since  1.0.0\n\t * @param {object} event The current event being fired.\n\t * @return void\n\t */\n\tfunction toggleSubMenu( event ) {\n\t\tvar $button = $( event.target );\n\n\t\tevent.preventDefault();\n\t\t$button.toggleClass( settings.activeClass );\n\t\t$button.parent().next( 'ul' ).toggleClass( settings.activeClass );\n\t}\n\n\t/**\n\t * Returns a function, that, as long as it continues to be invoked, will not\n\t * be triggered. The function will be called after it stops being called for\n\t * N milliseconds.\n\t *\n\t * @source underscore.js\n\t * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n\t * @param {Function} func to wrap\n\t * @param {Number} wait in ms (`100`)\n\t */\n\tfunction debounce( func, wait ) {\n\t\tvar timeout;\n\n\t\treturn function() {\n\t\t\tvar that = this;\n\t\t\tvar args = arguments;\n\n\t\t\tclearTimeout( timeout );\n\n\t\t\ttimeout = setTimeout( function() {\n\t\t\t\ttimeout = null;\n\t\t\t\tfunc.apply( that, args );\n\t\t\t}, wait );\n\t\t};\n\t}\n\n\tfunction initMenu() {\n\t\tif ( that.isMenuMobile() ) {\n\t\t\tthat.destroyMobileMenu();\n\t\t} else {\n\t\t\tthat.createMobileMenu();\n\t\t}\n\t}\n\n\t/**\n\t * Load all of our mobile menu functionality.\n\t *\n\t * @since  1.0.0\n\t * @return void\n\t */\n\tthis.init = function( options ) {\n\t\tsetupOptions( options );\n\t\tsetupVars();\n\n\t\tif ( 0 !== $mobileMenu.length && 0 !== $menuButton.length ) {\n\t\t\tinitMenu();\n\n\t\t\twindow.onresize = debounce( initMenu, 200 );\n\n\t\t\t$( '.' + settings.submenuButton.attr( 'class' ) ).on( 'click', toggleSubMenu );\n\n\t\t\t$menuButton.on( 'click', function( event ) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tthat.toggleMenu();\n\t\t\t});\n\t\t}\n\t};\n}\n\n/**\n * JavaScript for Alpha\n *\n * Includes all JS which is required within all sections of the theme.\n */\nfunction AlphaParentTheme( $ ) {\n\t'use strict';\n\n\tvar $body = $( document.body );\n\n\tthis.detectTouch = function() {\n\t\t$body.addClass( 'ontouchstart' in window || 'onmsgesturechange' in window ? 'touch' : 'no-touch' );\n\t};\n\n\tthis.init = function() {\n\t\tvar $siteInner = $( document.getElementById( 'site-inner' ) );\n\n\t\t$( document ).gamajoAccessibleMenu();\n\t\t$siteInner.fitVids();\n\t};\n}\n\n/* global skipLinkFocus */\n\nvar AlphaParentTheme = new AlphaParentTheme( jQuery );\nvar AlphaMobileMenu = new AlphaMobileMenu( jQuery );\n\nAlphaParentTheme.detectTouch();\n\njQuery( document ).ready(function() {\n\tskipLinkFocus.init();\n\tAlphaParentTheme.init();\n\tAlphaMobileMenu.init();\n});\n"]}