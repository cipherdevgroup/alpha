function AlphaMobileMenu(a){"use strict";var o,r,u,d,l=this,c=a(document.documentElement);function h(e){var t=a(e.target);e.preventDefault(),t.toggleClass(o.activeClass),t.parent().next("ul").toggleClass(o.activeClass)}function m(){l.isMenuMobile()?l.destroyMobileMenu():l.createMobileMenu()}this.isMenuMobile=function(){var e=u[0];return void 0!==e&&null===e.offsetParent},this.isMenuOpen=function(){return e=r[0].getBoundingClientRect(),t=a(window),0<=e.top&&0<=e.left&&e.bottom<=t.height()&&e.right<=t.width();var e,t},this.areMenusMerged=function(){return 0!==r.find(".appended").length},this.openMenu=function(){var t,e,n,i,s=u;r.addClass("visible"),r.attr("tabindex","0"),s.addClass(o.activeClass),s.attr("aria-pressed","true"),s.attr("aria-expanded","true"),c.addClass(o.menuOpenClass),t=r[0],e=r.find("a"),n=e.first(),i=e.last(),r.focus(),r.on("keydown",function(e){if(9===e.keyCode)return i[0]===e.target&&!e.shiftKey||(n[0]===e.target||t===e.target)&&e.shiftKey?(u.focus(),!1):void 0}),u.on("keydown",function(e){if(9===e.keyCode)return l.isMenuOpen()&&u[0]===e.target&&!e.shiftKey?(n.focus(),!1):void 0})},this.closeMenu=function(){var e=u;r.removeClass("visible"),r.removeAttr("tabindex"),e.removeClass(o.activeClass),e.attr("aria-pressed","false"),e.attr("aria-expanded","false"),c.removeClass(o.menuOpenClass)},this.createMobileMenu=function(){var e;o.resetClass&&r.removeClass(d),r.addClass(o.mobileMenuClass),function(){var e=o.extraMenus;if(0!==e.length&&!l.areMenusMerged()){var t=r.find("ul:first");e.find("ul:first").children("li").each(function(){var e=a(this);e.addClass("appended"),e.appendTo(t)})}}(),e=o.submenuButton,0===r.find(e).length&&r.find("li ul").prev("a").append(e)},this.destroyMobileMenu=function(){var e;l.closeMenu(),o.resetClass&&r.addClass(d),r.removeClass(o.mobileMenuClass),0!==(e=r.find(".appended")).length&&e.each(function(){var e=a(this);e.removeClass("appended"),e.appendTo(o.extraMenus.find("ul:first"))})},this.toggleMenu=function(){l.isMenuOpen()?l.closeMenu():l.openMenu()},this.init=function(e){var t,n,i,s;t=e,o={mainMenu:a(document.getElementById("menu-primary")),extraMenus:a(document.getElementById("menu-secondary")),menuButton:a(document.getElementById("menu-toggle-primary")),submenuButton:a("<button />",{class:"sub-menu-toggle","aria-expanded":!1,"aria-pressed":!1,role:"button"}),activeClass:"activated",mobileMenuClass:"menu-mobile",menuOpenClass:"menu-open",resetClass:!0},t&&a.extend(o,t),0===(r=o.mainMenu).length&&0!==o.extraMenus.length&&(r=o.extraMenus),u=o.menuButton,d=r.attr("class"),0!==r.length&&0!==u.length&&(m(),a(window).resize((n=m,i=200,function(){var e=this,t=arguments;clearTimeout(s),s=setTimeout(function(){s=null,n.apply(e,t)},i)})),a("."+o.submenuButton.attr("class")).on("click",h),u.on("click",function(e){e.preventDefault(),l.toggleMenu()}))}}function AlphaParentTheme(t){"use strict";var e=t(document.body);this.detectTouch=function(){e.addClass("ontouchstart"in window||"onmsgesturechange"in window?"touch":"no-touch")},this.init=function(){var e=t(document.getElementById("site-inner"));t(document).gamajoAccessibleMenu(),e.fitVids()}}!function(n,e,t,i){"use strict";var s="gamajoAccessibleMenu",a=[];function o(e,t){this.element=e,this.opts=n.extend({},n.fn[s].options,t),this.init()}n.extend(o.prototype,{init:function(){n(this.element).on("mouseenter."+s,this.opts.menuItemSelector,this.opts,this.menuItemEnter).on("mouseleave."+s,this.opts.menuItemSelector,this.opts,this.menuItemLeave).find("a").on("focus."+s+", blur."+s,this.opts,this.menuItemToggleClass)},menuItemEnter:function(t){n.each(a,function(e){n("#"+e).removeClass(t.data.hoverClass),clearTimeout(a[e])}),a=[],n(this).addClass(t.data.hoverClass)},menuItemLeave:function(e){var t=n(this);a[this.id]=setTimeout(function(){t.removeClass(e.data.hoverClass)},e.data.hoverDelay)},menuItemToggleClass:function(e){n(this).parents(e.data.menuItemSelector).toggleClass(e.data.hoverClass)}}),n.fn[s]=function(e){return this.each(function(){n.data(this,"plugin_"+s)||n.data(this,"plugin_"+s,new o(this,e))}),this},n.fn[s].options={hoverClass:"menu-item-hover",hoverDelay:250,menuItemSelector:".menu-item"}}(jQuery,window,document),function(a){"use strict";a.fn.fitVids=function(e){var n={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("div");i.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',t.appendChild(i.childNodes[1])}return e&&a.extend(n,e),this.each(function(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];n.customSelector&&e.push(n.customSelector);var s=".fitvidsignore";n.ignore&&(s=s+", "+n.ignore);var t=a(this).find(e.join(","));(t=(t=t.not("object object")).not(s)).each(function(e){var t=a(this);if(!(0<t.parents(s).length||"embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){t.css("height")||t.css("width")||!isNaN(t.attr("height"))&&!isNaN(t.attr("width"))||(t.attr("height",9),t.attr("width",16));var n=("object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height())/(isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10));if(!t.attr("id")){var i="fitvid"+e;t.attr("id",i)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*n+"%"),t.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),function(e,t){"use strict";"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.skipLinkFocus=t()}(this,function(){"use strict";function i(e){s(e.target.hash.substring(1))}function s(e){var t;/^[A-z0-9_-]+$/.test(e)&&(t=window.document.getElementById(e))&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())}return{init:function(e){if((e=e||{}).selector=e.selector||".skip-link",window&&/webkit|opera|msie|trident/i.test(navigator.userAgent)&&window.addEventListener){var t,n=window.document.querySelectorAll(e.selector);for(window.addEventListener("hashchange",function(){s(location.hash.substring(1))},!1),t=0;t<n.length;++t)n[t].addEventListener("click",i);location.hash&&location.hash.substring(1)&&s(location.hash.substring(1))}},skipToElement:s}});var AlphaParentTheme=new AlphaParentTheme(jQuery),AlphaMobileMenu=new AlphaMobileMenu(jQuery);AlphaParentTheme.detectTouch(),jQuery(document).ready(function(){skipLinkFocus.init(),AlphaParentTheme.init(),AlphaMobileMenu.init()});
//# sourceMappingURL=theme.js.map