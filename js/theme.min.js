function AlphaMobileMenu(a){"use strict";function b(b){l={mainMenu:a(document.getElementById("menu-primary")),menuButton:a(document.getElementById("menu-toggle-primary")),extraMenus:a(document.getElementById("menu-secondary")),submenuButton:a("<button />",{class:"sub-menu-toggle","aria-expanded":!1,"aria-pressed":!1,role:"button"}),activeClass:"activated",mobileMenuClass:"menu-mobile",menuOpenClass:"menu-open",resetClass:!0},b&&a.extend(l,b)}function c(){m=l.mainMenu,0===m.length&&0!==l.extraMenus.length&&(m=l.extraMenus),n=m.attr("class")}function d(b){var c=b[0].getBoundingClientRect(),d=a(window);return c.top>=0&&c.left>=0&&c.bottom<=d.height()&&c.right<=d.width()}function e(){var b=m[0],c=a("#"+m.attr("id")+" a"),d=c.first(),e=c.last();m.focus(),m.on("keydown",function(a){if(9===a.keyCode)return(e[0]!==a.target||a.shiftKey)&&(d[0]!==a.target&&b!==a.target||!a.shiftKey)?void 0:(l.menuButton.focus(),!1)}),l.menuButton.on("keydown",function(a){if(9===a.keyCode)return o.isMenuOpen()&&l.menuButton[0]===a.target&&!a.shiftKey?(d.focus(),!1):void 0})}function f(){var a=l.submenuButton;0===m.find(a).length&&m.find("li ul").prev("a").append(a)}function g(){var b=l.extraMenus;if(0!==b.length&&!o.areMenusMerged()){var c=m.find("ul:first");b.find("ul:first").children("li").each(function(){var b=a(this);b.addClass("appended"),b.appendTo(c)})}}function h(){var b=m.find(".appended");0!==b.length&&b.each(function(){var b=a(this);b.removeClass("appended"),b.appendTo(l.extraMenus.find("ul:first"))})}function i(b){var c=a(b.target);b.preventDefault(),c.toggleClass(l.activeClass),c.parent().next("ul").toggleClass(l.activeClass)}function j(a,b){var c;return function(){var d=this,e=arguments;clearTimeout(c),c=setTimeout(function(){c=null,a.apply(d,e)},b)}}function k(){o.isMenuMobile()?o.destroyMobileMenu():o.createMobileMenu()}var l,m,n,o=this,p=a(document.documentElement);this.isMenuMobile=function(){var a=l.menuButton[0];return null===a.offsetParent},this.isMenuOpen=function(){return!!d(m)},this.areMenusMerged=function(){return 0!==m.find(".appended").length},this.openMenu=function(){var a=l.menuButton;m.addClass("visible"),m.attr("tabindex","0"),a.addClass(l.activeClass),a.attr("aria-pressed","true"),a.attr("aria-expanded","true"),p.addClass(l.menuOpenClass),e()},this.closeMenu=function(){var a=l.menuButton;m.removeClass("visible"),m.removeAttr("tabindex"),a.removeClass(l.activeClass),a.attr("aria-pressed","false"),a.attr("aria-expanded","false"),p.removeClass(l.menuOpenClass)},this.createMobileMenu=function(){l.resetClass&&m.removeClass(n),m.addClass(l.mobileMenuClass),g(),f()},this.destroyMobileMenu=function(){o.closeMenu(),l.resetClass&&m.addClass(n),m.removeClass(l.mobileMenuClass),h()},this.toggleMenu=function(){o.isMenuOpen()?o.closeMenu():o.openMenu()},this.init=function(d){b(d),c(),0!==m.length&&(k(),window.onresize=j(k,200),a("."+l.submenuButton.attr("class")).on("click",i),l.menuButton.on("click",function(a){a.preventDefault(),o.toggleMenu()}))}}function AlphaParentTheme(a){"use strict";var b=a(document.body);this.detectTouch=function(){b.addClass("ontouchstart"in window||"onmsgesturechange"in window?"touch":"no-touch")},this.init=function(){var b=a(document.getElementById("site-inner"));a(document).gamajoAccessibleMenu(),b.fitVids()}}!function(a,b,c,d){"use strict";function e(b,c){this.element=b,this.opts=a.extend({},a.fn[f].options,c),this.init()}var f="gamajoAccessibleMenu",g=[];a.extend(e.prototype,{init:function(){a(this.element).on("mouseenter."+f,this.opts.menuItemSelector,this.opts,this.menuItemEnter).on("mouseleave."+f,this.opts.menuItemSelector,this.opts,this.menuItemLeave).find("a").on("focus."+f+", blur."+f,this.opts,this.menuItemToggleClass)},menuItemEnter:function(b){a.each(g,function(c){a("#"+c).removeClass(b.data.hoverClass),clearTimeout(g[c])}),g=[],a(this).addClass(b.data.hoverClass)},menuItemLeave:function(b){var c=a(this);g[this.id]=setTimeout(function(){c.removeClass(b.data.hoverClass)},b.data.hoverDelay)},menuItemToggleClass:function(b){a(this).parents(b.data.menuItemSelector).toggleClass(b.data.hoverClass)}}),a.fn[f]=function(b){return this.each(function(){a.data(this,"plugin_"+f)||a.data(this,"plugin_"+f,new e(this,b))}),this},a.fn[f].options={hoverClass:"menu-item-hover",hoverDelay:250,menuItemSelector:".menu-item"}}(jQuery,window,document),function(a){"use strict";a.fn.fitVids=function(b){var c={customSelector:null};if(!document.getElementById("fit-vids-style")){var d=document.head||document.getElementsByTagName("head")[0],e=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",f=document.createElement("div");f.innerHTML='<p>x</p><style id="fit-vids-style">'+e+"</style>",d.appendChild(f.childNodes[1])}return b&&a.extend(c,b),this.each(function(){var b=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];c.customSelector&&b.push(c.customSelector);var d=a(this).find(b.join(","));d=d.not("object object"),d.each(function(){var b=a(this);if(!("embed"===this.tagName.toLowerCase()&&b.parent("object").length||b.parent(".fluid-width-video-wrapper").length)){var c="object"===this.tagName.toLowerCase()||b.attr("height")&&!isNaN(parseInt(b.attr("height"),10))?parseInt(b.attr("height"),10):b.height(),d=isNaN(parseInt(b.attr("width"),10))?b.width():parseInt(b.attr("width"),10),e=c/d;if(!b.attr("id")){var f="fitvid"+Math.floor(999999*Math.random());b.attr("id",f)}b.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*e+"%"),b.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.skipLinkFocus=b()}(this,function(){"use strict";function a(){if(window&&/webkit|opera|msie/i.test(window.navigator.userAgent)&&window.addEventListener){var a,d=window.document.querySelectorAll(".skip-link");for(window.addEventListener("hashchange",function(){c(location.hash.substring(1))},!1),a=0;a<d.length;++a)d[a].addEventListener("click",b)}}function b(a){c(a.target.hash.substring(1))}function c(a){var b;/^[A-z0-9_-]+$/.test(a)&&(b=window.document.getElementById(a),b&&(/^(?:a|select|input|button|textarea)$/i.test(b.tagName)||(b.tabIndex=-1),b.focus()))}return{init:a,skipToElement:c}});var AlphaParentTheme=new AlphaParentTheme(jQuery),AlphaMobileMenu=new AlphaMobileMenu(jQuery);AlphaParentTheme.detectTouch(),jQuery(document).ready(function(){skipLinkFocus.init(),AlphaParentTheme.init(),AlphaMobileMenu.init()});
//# sourceMappingURL=theme.js.map